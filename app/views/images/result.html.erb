<style type="text/css">
  /* Main */

  #main {
    -moz-transition: -moz-filter 0.5s ease, -webkit-filter 0.5s ease, -ms-filter 0.5s ease, -moz-filter 0.5s ease;
    -webkit-transition: -moz-filter 0.5s ease, -webkit-filter 0.5s ease, -ms-filter 0.5s ease, -webkit-filter 0.5s ease;
    -ms-transition: -moz-filter 0.5s ease, -webkit-filter 0.5s ease, -ms-filter 0.5s ease, -ms-filter 0.5s ease;
    transition: -moz-filter 0.5s ease, -webkit-filter 0.5s ease, -ms-filter 0.5s ease, filter 0.5s ease;
    display: -moz-flex;
    display: -webkit-flex;
    display: -ms-flex;
    display: flex;
    -moz-flex-wrap: wrap;
    -webkit-flex-wrap: wrap;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    -webkit-tap-highlight-color: rgba(255, 255, 255, 0);
  }

  #main .thumb {
    -moz-transition: opacity 1.25s ease-in-out;
    -webkit-transition: opacity 1.25s ease-in-out;
    -ms-transition: opacity 1.25s ease-in-out;
    transition: opacity 1.25s ease-in-out;
    -moz-pointer-events: auto;
    -webkit-pointer-events: auto;
    -ms-pointer-events: auto;
    pointer-events: auto;
    -webkit-tap-highlight-color: rgba(255, 255, 255, 0);
    opacity: 1;
    overflow: hidden;
    position: relative;
  }

  #main .thumb:after {
    background-image: -moz-linear-gradient(to top, rgba(10,17,25,0.35) 5%, rgba(10,17,25,0) 35%);
    background-image: -webkit-linear-gradient(to top, rgba(10,17,25,0.35) 5%, rgba(10,17,25,0) 35%);
    background-image: -ms-linear-gradient(to top, rgba(10,17,25,0.35) 5%, rgba(10,17,25,0) 35%);
    background-image: linear-gradient(to top, rgba(10,17,25,0.35) 5%, rgba(10,17,25,0) 35%);
    -moz-pointer-events: none;
    -webkit-pointer-events: none;
    -ms-pointer-events: none;
    pointer-events: none;
    background-size: cover;
    content: '';
    display: block;
    height: 100%;
    left: 0;
    position: absolute;
    top: 0;
    width: 100%;
  }

  #main .thumb > .image {
    -webkit-tap-highlight-color: rgba(255, 255, 255, 0);
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    border: 0;
    height: 100%;
    left: 0;
    position: absolute;
    top: 0;
    width: 100%;
  }

  #main .thumb > h2 {
    -moz-pointer-events: none;
    -webkit-pointer-events: none;
    -ms-pointer-events: none;
    pointer-events: none;
    bottom: 0.975em;
    font-size: 1.6em;
    left: 1.188em;
    margin: 0;
    position: absolute;
    z-index: 1;
  }

  /*#main .thumb > p {
    display: none;
  }*/

  #main:after {
    -moz-pointer-events: none;
    -webkit-pointer-events: none;
    -ms-pointer-events: none;
    pointer-events: none;
    -moz-transition: opacity 0.5s ease, visibility 0.5s;
    -webkit-transition: opacity 0.5s ease, visibility 0.5s;
    -ms-transition: opacity 0.5s ease, visibility 0.5s;
    transition: opacity 0.5s ease, visibility 0.5s;
    background: rgba(36, 38, 41, 0.25);
    content: '';
    display: block;
    height: 100%;
    left: 0;
    opacity: 0;
    position: absolute;
    top: 0;
    visibility: hidden;
    width: 100%;
    z-index: 1;
  }

  body.ie #main:after {
    background: rgba(36, 38, 41, 0.55);
  }

  body.content-active #main {
    -moz-filter: blur(6px);
    -webkit-filter: blur(6px);
    -ms-filter: blur(6px);
    filter: blur(6px);
  }

  body.content-active #main:after {
    -moz-pointer-events: auto;
    -webkit-pointer-events: auto;
    -ms-pointer-events: auto;
    pointer-events: auto;
    opacity: 1;
    visibility: visible;
  }

  body.loading #main .thumb {
    -moz-pointer-events: none;
    -webkit-pointer-events: none;
    -ms-pointer-events: none;
    pointer-events: none;
    opacity: 0;
  }

  #main .thumb {
    -moz-transition-delay: 2.525s;
    -webkit-transition-delay: 2.525s;
    -ms-transition-delay: 2.525s;
    transition-delay: 2.525s;
    height: calc(40vh - 2em);
    min-height: 20em;
    width: 25%;
  }

  #main .thumb:nth-child(3n+1) {
    -moz-transition-delay: 0.65s+n*0.4s;
    -webkit-transition-delay: 0.65s+n*0.4s;
    -ms-transition-delay: 0.65s+n*0.4s;
    transition-delay: 0.65s+n*0.4s;
  }

  #main .thumb:nth-child(3n+2) {
    -moz-transition-delay: 0.8s+n*0.4s;
    -webkit-transition-delay: 0.8s+n*0.4s;
    -ms-transition-delay: 0.8s+n*0.4s;
    transition-delay: 0.8s+n*0.4s;
  }

  #main .thumb:nth-child(3n) {
    -moz-transition-delay: 0.95s+n*0.4s;
    -webkit-transition-delay: 0.95s+n*0.4s;
    -ms-transition-delay: 0.95s+n*0.4s;
    transition-delay: 0.95s+n*0.4s;
  }

  @media screen and (max-width: 1680px) {

    #main .thumb {
      -moz-transition-delay: 2.075s;
      -webkit-transition-delay: 2.075s;
      -ms-transition-delay: 2.075s;
      transition-delay: 2.075s;
      height: calc(40vh - 2em);
      min-height: 20em;
      width: 33.33333%;
    }

    #main .thumb:nth-child(3n+1) {
      -moz-transition-delay: 0.65s+n*0.4s;
      -webkit-transition-delay: 0.65s+n*0.4s;
      -ms-transition-delay: 0.65s+n*0.4s;
      transition-delay: 0.65s+n*0.4s;
    }

    #main .thumb:nth-child(3n+2) {
      -moz-transition-delay: 0.8s+n*0.4s;
      -webkit-transition-delay: 0.8s+n*0.4s;
      -ms-transition-delay: 0.8s+n*0.4s;
      transition-delay: 0.8s+n*0.4s;
    }

    #main .thumb:nth-child(3n) {
      -moz-transition-delay: 0.95s+n*0.4s;
      -webkit-transition-delay: 0.95s+n*0.4s;
      -ms-transition-delay: 0.95s+n*0.4s;
      transition-delay: 0.95s+n*0.4s;
    }
    

  }

  @media screen and (max-width: 1280px) {

    #main .thumb {
      -moz-transition-delay: 1.625s;
      -webkit-transition-delay: 1.625s;
      -ms-transition-delay: 1.625s;
      transition-delay: 1.625s;
      height: calc(40vh - 2em);
      min-height: 20em;
      width: 50%;
    }

    #main .thumb:nth-child(3n+1) {
    -moz-transition-delay: 0.65s+n*0.4s;
    -webkit-transition-delay: 0.65s+n*0.4s;
    -ms-transition-delay: 0.65s+n*0.4s;
    transition-delay: 0.65s+n*0.4s;
  }

  #main .thumb:nth-child(3n+2) {
    -moz-transition-delay: 0.8s+n*0.4s;
    -webkit-transition-delay: 0.8s+n*0.4s;
    -ms-transition-delay: 0.8s+n*0.4s;
    transition-delay: 0.8s+n*0.4s;
  }

  #main .thumb:nth-child(3n) {
    -moz-transition-delay: 0.95s+n*0.4s;
    -webkit-transition-delay: 0.95s+n*0.4s;
    -ms-transition-delay: 0.95s+n*0.4s;
    transition-delay: 0.95s+n*0.4s;
  }

  }

  @media screen and (max-width: 980px) {

    #main .thumb {
      -moz-transition-delay: 2.075s;
      -webkit-transition-delay: 2.075s;
      -ms-transition-delay: 2.075s;
      transition-delay: 2.075s;
      height: calc(28.57143vh - 1.33333em);
      min-height: 18em;
      width: 50%;
    }

     #main .thumb:nth-child(3n+1) {
    -moz-transition-delay: 0.65s+n*0.4s;
    -webkit-transition-delay: 0.65s+n*0.4s;
    -ms-transition-delay: 0.65s+n*0.4s;
    transition-delay: 0.65s+n*0.4s;
  }

  #main .thumb:nth-child(3n+2) {
    -moz-transition-delay: 0.8s+n*0.4s;
    -webkit-transition-delay: 0.8s+n*0.4s;
    -ms-transition-delay: 0.8s+n*0.4s;
    transition-delay: 0.8s+n*0.4s;
  }

  #main .thumb:nth-child(3n) {
    -moz-transition-delay: 0.95s+n*0.4s;
    -webkit-transition-delay: 0.95s+n*0.4s;
    -ms-transition-delay: 0.95s+n*0.4s;
    transition-delay: 0.95s+n*0.4s;
  }

  }

  @media screen and (max-width: 480px) {

    #main .thumb {
      -moz-transition-delay: 1.175s;
      -webkit-transition-delay: 1.175s;
      -ms-transition-delay: 1.175s;
      transition-delay: 1.175s;
      height: calc(40vh - 2em);
      min-height: 18em;
      width: 100%;
    }

    #main .thumb:nth-child(1) {
      -moz-transition-delay: 0.65s;
      -webkit-transition-delay: 0.65s;
      -ms-transition-delay: 0.65s;
      transition-delay: 0.65s;
    }

    #main .thumb:nth-child(2) {
      -moz-transition-delay: 0.8s;
      -webkit-transition-delay: 0.8s;
      -ms-transition-delay: 0.8s;
      transition-delay: 0.8s;
    }

    #main .thumb:nth-child(3) {
      -moz-transition-delay: 0.95s;
      -webkit-transition-delay: 0.95s;
      -ms-transition-delay: 0.95s;
      transition-delay: 0.95s;
    }

  }
</style>
<script src="assets/javascripts/skel.min.js"></script>
<script src="assets/javascripts/util.js"></script>
<script src="assets/javascripts/images.js"></script>
<h1>Search result</h1><br/>
<div id="main">
  <% @images.each do |image| %>
  <article class="thumb">
    <a href="<%= image_path(image) %>" class="image"><%= image_tag image.file.size1.url%></a>
    <h2><%= image.title %></h2>
    <p><%= image.description %></p>
  </article>
  <% end %>
</div>
